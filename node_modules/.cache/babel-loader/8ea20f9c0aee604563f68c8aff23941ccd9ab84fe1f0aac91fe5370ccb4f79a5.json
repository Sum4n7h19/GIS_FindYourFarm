{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Form,FormControl,Button}from\"react-bootstrap\";import axios from\"axios\";import Select from\"react-dropdown-select\";import\"../assests/App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Menu=props=>{const[parcels,setParcels]=useState([]);const[parcelNo,setParcelNo]=useState();const[selectState,setSelectState]=useState(null);const[selectDistrict,setSelectDistrict]=useState(null);const[selectTaluk,setSelectTaluk]=useState(null);const[selectHobli,setSelectHobli]=useState(null);const[selectVillage,setSelectVillage]=useState(null);useEffect(()=>{// Fetch all parcels using Axios\naxios.get(\"http://127.0.0.1:5000/parcel\").then(response=>{if(!response.data){throw new Error(\"Empty response or response data is not valid JSON\");}setParcels(response.data);}).catch(error=>console.error(\"Error fetching parcels:\",error));},[]);const State=[...new Map(parcels.map(parcel=>[parcel.KGISStateName,parcel])).values()];const District=[...new Map(parcels.map(parcel=>[parcel.KGISDistrictName,parcel])).values()];const Taluk=[...new Map(parcels.map(parcel=>[parcel.KGISTalukID,parcel])).values()];const Hobli=[...new Map(parcels.map(parcel=>[parcel.KGISHobliID,parcel])).values()];const Village=[...new Map(parcels.map(parcel=>[parcel.KGISVillageID,parcel])).values()];const filterTaluk=Taluk.filter(taluk=>{return selectDistrict!==null?taluk.KGISDistrictID===selectDistrict[0].value:true;});const filterHobli=Hobli.filter(hobli=>{return selectTaluk!==null?hobli.KGISTalukID===selectTaluk[0].value:true;});const filterVillage=Village.filter(village=>{return selectHobli!==null?village.KGISHobliID===selectHobli[0].value:true;});const stateName=State.map(parcel=>({value:parcel.KGISStateID,label:\"\".concat(parcel.KGISStateName)}));const distName=District.map(parcel=>({value:parcel.KGISDistrictID,label:\"\".concat(parcel.KGISDistrictName)}));const talukName=filterTaluk.map(parcel=>({value:parcel.KGISTalukID,label:\"\".concat(parcel.KGISTalukName)}));const hobliName=filterHobli.map(parcel=>({value:parcel.KGISHobliID,label:parcel.KGISHobliName}));const villageName=filterVillage.map(parcel=>({value:parcel.KGISVillageID,label:parcel.KGISVillageName}));const changeHandler=e=>{setSelectVillage(e);};const submitHandler=event=>{event.preventDefault();const villageId=selectVillage[0].value;const villageName=selectVillage[0].label;const data=[parcelNo,villageId,villageName];props.onSubmit(data);setSelectState(null);setSelectDistrict(null);setSelectTaluk(null);setSelectHobli(null);setSelectVillage(null);setParcelNo(\"\");};return/*#__PURE__*/_jsx(\"div\",{className:\"menu\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-menu\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Select the Farm\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"parcelDropdown\",children:\"Select Parcel:\"}),/*#__PURE__*/_jsx(Select,{className:\"select\",id:\"parcelDropdown\",options:stateName,value:selectState,onChange:e=>setSelectState(e),placeholder:\"Select State\"}),/*#__PURE__*/_jsx(Select,{className:\"select\",id:\"distName\",options:distName,value:selectDistrict,onChange:e=>setSelectDistrict(e),placeholder:\"Select District\"}),/*#__PURE__*/_jsx(Select,{className:\"select\",id:\"talukName\",options:talukName,value:selectTaluk,onChange:e=>setSelectTaluk(e),placeholder:\"Select Taluk\"}),/*#__PURE__*/_jsx(Select,{className:\"select\",id:\"parcelDropdown\",options:hobliName,value:selectHobli,onChange:e=>setSelectHobli(e),placeholder:\"Select Hobli\"}),/*#__PURE__*/_jsx(Select,{className:\"select\",id:\"parcelDropdown\",options:villageName,value:selectVillage,onChange:changeHandler,placeholder:\"Select Village\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(FormControl,{className:\"surveyno\",type:\"number\",value:parcelNo,placeholder:\"Survey no\",onChange:e=>setParcelNo(e.target.value)}),/*#__PURE__*/_jsx(Button,{type:\"Submit\",children:\"Submit\"})]})]})});};export default Menu;","map":{"version":3,"names":["React","useEffect","useState","Form","FormControl","Button","axios","Select","jsx","_jsx","jsxs","_jsxs","Menu","props","parcels","setParcels","parcelNo","setParcelNo","selectState","setSelectState","selectDistrict","setSelectDistrict","selectTaluk","setSelectTaluk","selectHobli","setSelectHobli","selectVillage","setSelectVillage","get","then","response","data","Error","catch","error","console","State","Map","map","parcel","KGISStateName","values","District","KGISDistrictName","Taluk","KGISTalukID","Hobli","KGISHobliID","Village","KGISVillageID","filterTaluk","filter","taluk","KGISDistrictID","value","filterHobli","hobli","filterVillage","village","stateName","KGISStateID","label","concat","distName","talukName","KGISTalukName","hobliName","KGISHobliName","villageName","KGISVillageName","changeHandler","e","submitHandler","event","preventDefault","villageId","onSubmit","className","children","htmlFor","id","options","onChange","placeholder","type","target"],"sources":["C:/Users/wwwsu/Desktop/Parcel/findyourfarm/src/Components/Menu.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Form,\r\n  FormControl,\r\n  Button,\r\n} from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport Select from \"react-dropdown-select\";\r\nimport \"../assests/App.css\";\r\n\r\nconst Menu = (props) => {\r\n  const [parcels, setParcels] = useState([]);\r\n  const [parcelNo, setParcelNo] = useState();\r\n  const [selectState, setSelectState] = useState(null);\r\n  const [selectDistrict, setSelectDistrict] = useState(null);\r\n  const [selectTaluk, setSelectTaluk] = useState(null);\r\n  const [selectHobli, setSelectHobli] = useState(null);\r\n  const [selectVillage, setSelectVillage] = useState(null);\r\n  useEffect(() => {\r\n    // Fetch all parcels using Axios\r\n    axios\r\n      .get(\"http://127.0.0.1:5000/parcel\")\r\n      .then((response) => {\r\n        if (!response.data) {\r\n          throw new Error(\"Empty response or response data is not valid JSON\");\r\n        }\r\n        setParcels(response.data);\r\n      })\r\n      .catch((error) => console.error(\"Error fetching parcels:\", error));\r\n  }, []);\r\n  const State = [\r\n    ...new Map(\r\n      parcels.map((parcel) => [parcel.KGISStateName, parcel])\r\n    ).values(),\r\n  ];\r\n  const District = [\r\n    ...new Map(\r\n      parcels.map((parcel) => [parcel.KGISDistrictName, parcel])\r\n    ).values(),\r\n  ];\r\n  const Taluk = [\r\n    ...new Map(parcels.map((parcel) => [parcel.KGISTalukID, parcel])).values(),\r\n  ];\r\n  const Hobli = [\r\n    ...new Map(parcels.map((parcel) => [parcel.KGISHobliID, parcel])).values(),\r\n  ];\r\n  const Village = [\r\n    ...new Map(\r\n      parcels.map((parcel) => [parcel.KGISVillageID, parcel])\r\n    ).values(),\r\n  ];\r\n  const filterTaluk = Taluk.filter((taluk) => {\r\n    return selectDistrict !== null ? taluk.KGISDistrictID === selectDistrict[0].value : true\r\n  }\r\n  )\r\n  const filterHobli = Hobli.filter((hobli) => {\r\n    return selectTaluk !== null ? hobli.KGISTalukID === selectTaluk[0].value : true\r\n  }\r\n  )\r\n  const filterVillage = Village.filter((village) => {\r\n    return selectHobli !== null ? village.KGISHobliID === selectHobli[0].value : true\r\n  }\r\n  )\r\n  const stateName = State.map((parcel) => ({\r\n    value: parcel.KGISStateID,\r\n    label: `${parcel.KGISStateName}`,\r\n  }));\r\n  const distName = District.map((parcel) => ({\r\n    value: parcel.KGISDistrictID,\r\n    label: `${parcel.KGISDistrictName}`,\r\n  }));\r\n  const talukName = filterTaluk.map((parcel) => ({\r\n    value: parcel.KGISTalukID,\r\n    label: `${parcel.KGISTalukName}`,\r\n  }));\r\n  const hobliName = filterHobli.map((parcel) => ({\r\n    value: parcel.KGISHobliID,\r\n    label: parcel.KGISHobliName,\r\n  }));\r\n  const villageName = filterVillage.map((parcel) => ({\r\n    value: parcel.KGISVillageID,\r\n    label: parcel.KGISVillageName,\r\n  }));\r\n  const changeHandler = (e) => {\r\n    setSelectVillage(e);\r\n  };\r\n  const submitHandler = (event) => {\r\n    event.preventDefault();\r\n    const villageId = selectVillage[0].value;\r\n    const villageName = selectVillage[0].label;\r\n    const data = [parcelNo, villageId, villageName];\r\n    props.onSubmit(data);\r\n\r\n    setSelectState(null);\r\n    setSelectDistrict(null);\r\n    setSelectTaluk(null);\r\n    setSelectHobli(null);\r\n    setSelectVillage(null);\r\n    setParcelNo(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"menu\">\r\n      <div className=\"container-menu\">\r\n        <h1>Select the Farm</h1>\r\n        <label htmlFor=\"parcelDropdown\">Select Parcel:</label>\r\n        <Select\r\n          className=\"select\"\r\n          id=\"parcelDropdown\"\r\n          options={stateName}\r\n          value={selectState}\r\n          onChange={(e) => setSelectState(e)}\r\n          placeholder=\"Select State\"\r\n        />\r\n        <Select\r\n          className=\"select\"\r\n          id=\"distName\"\r\n          options={distName}\r\n          value={selectDistrict}\r\n          onChange={(e) => setSelectDistrict(e)}\r\n          placeholder=\"Select District\"\r\n        />\r\n        <Select\r\n          className=\"select\"\r\n          id=\"talukName\"\r\n          options={talukName}\r\n          value={selectTaluk}\r\n          onChange={(e)=> setSelectTaluk(e)}\r\n          placeholder=\"Select Taluk\"\r\n        />\r\n        <Select\r\n          className=\"select\"\r\n          id=\"parcelDropdown\"\r\n          options={hobliName}\r\n          value={selectHobli}\r\n          onChange={(e)=> setSelectHobli(e)}\r\n          placeholder=\"Select Hobli\"\r\n        />\r\n        <Select\r\n          className=\"select\"\r\n          id=\"parcelDropdown\"\r\n          options={villageName}\r\n          value={selectVillage}\r\n          onChange={changeHandler}\r\n          placeholder=\"Select Village\"\r\n        />\r\n        <Form onSubmit={submitHandler}>\r\n          <FormControl\r\n            className=\"surveyno\"\r\n            type=\"number\"\r\n            value={parcelNo}\r\n            placeholder=\"Survey no\"\r\n            onChange={(e) => setParcelNo(e.target.value)}\r\n          />\r\n          <Button type=\"Submit\">Submit</Button>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Menu;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}